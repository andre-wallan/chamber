<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Welcome to the Kabale Chamber of Commerce. Discover local businesses, upcoming events, and join our thriving community." />
  <meta name="author" content="Kabale Chamber Web Team" />
  <title>Kabale Chamber of Commerce | Home</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="styles.css" />
  <!-- Facebook Open Graph Meta Tags -->
  <meta property="og:title" content="Kabale Chamber of Commerce" />
  <meta property="og:description" content="Connect with local businesses and discover opportunities in Kabale." />
  <meta property="og:image" content="https://yourdomain.com/chamber/images/og-image.jpg" />
  <meta property="og:url" content="https://yourdomain.com/chamber/index.html" />
  <meta property="og:type" content="website" />
  <style>
    
    /* styles for hero, weather, events, spotlights as needed */
    .hero {
      background: url('images/chamber_back.jpg') center/cover no-repeat;
      min-height: 320px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      text-shadow: 0 2px 8px rgba(0,0,0,0.4);
      border-radius: 0 0 16px 16px;
      margin-bottom: 2rem;
      position: relative;
    }
    .hero-content {
      background: rgba(26,77,46,0.7);
      padding: 2rem 2.5rem;
      border-radius: 12px;
      text-align: center;
      max-width: 500px;
    }
    .hero-content h2 {
      color: #f7c873;
      margin-bottom: 0.7rem;
    }
    .cta-btn {
      display: inline-block;
      background: var(--accent);
      color: #222;
      font-weight: bold;
      padding: 0.7rem 2rem;
      border-radius: 6px;
      text-decoration: none;
      margin-top: 1.2rem;
      font-size: 1.1rem;
      transition: background 0.2s;
    }
    .cta-btn:hover, .cta-btn:focus {
      background: #ffe2a8;
      color: var(--primary);
    }
    .main-sections {
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
      margin-bottom: 2rem;
    }
    .main-sections > section {
      flex: 1 1 320px;
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1.2rem 1rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.03);
      min-width: 0;
    }
    .weather-today {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    .weather-today img {
      width: 48px;
      height: 48px;
    }
    .forecast {
      display: flex;
      gap: 1rem;
      justify-content: space-between;
    }
    .forecast-day {
      text-align: center;
      flex: 1 1 0;
      background: #f7f7f7;
      border-radius: 6px;
      padding: 0.5rem 0.2rem;
    }
    .spotlights {
      display: flex;
      gap: 1.5rem;
      flex-wrap: wrap;
      margin-top: 1.5rem;
      justify-content: flex-start;
    }
    .spotlight-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1rem 0.8rem;
      box-shadow: 0 2px 8px rgba(0,0,0,0.03);
      width: 300px;
      min-width: 200px;
      max-width: 100%;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      word-break: break-word;
    }
    .spotlight-card img {
      max-width: 100%;
      height: 70px;
      object-fit: contain;
      margin-bottom: 0.7rem;
      border-radius: 4px;
      background: #f5f5f5;
      align-self: center;
    }
    .spotlight-card h3 {
      margin: 0 0 0.3rem 0;
      font-size: 1.1rem;
      color: var(--primary);
    }
    .spotlight-card p {
      margin: 0.15rem 0;
      font-size: 0.98rem;
      line-height: 1.5;
    }
    .spotlight-card a {
      color: var(--primary);
      text-decoration: underline;
      word-break: break-all;
    }
    .spotlight-level {
      font-size: 0.95rem;
      font-weight: bold;
      color: #fff;
      background: #bfa13a;
      border-radius: 4px;
      padding: 0.2rem 0.7rem;
      margin-bottom: 0.5rem;
      display: inline-block;
    }
    .spotlight-level.silver {
      background: #bfc1c2;
      color: #222;
    }
    @media (max-width: 900px) {
      .main-sections {
        flex-direction: column;
        gap: 1.2rem;
      }
      .spotlights {
        gap: 1rem;
      }
      .spotlight-card {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav-wrapper">
      <h1>Kabale Chamber of Commerce</h1>
      <button class="nav-toggle" aria-label="Toggle navigation" onclick="toggleNavMenu()">
        &#9776;
      </button>
      <nav>
        <ul id="mainNav">
          <li><a href="index.html" class="active" aria-current="page">Home</a></li>
          <li><a href="discover.html">Discover</a></li>
          <li><a href="directory.html">Directory</a></li>
          <li><a href="join.html">Join</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- Hero Section -->
    <section class="hero" aria-label="Welcome">
      <div class="hero-content">
        <h2>Welcome to Kabale Chamber of Commerce</h2>
        <p>Empowering local businesses and fostering growth in the Kabale region. Connect, discover, and thrive with us!</p>
        <a href="join.html" class="cta-btn">Join the Chamber</a>
      </div>
    </section>

    <div class="main-sections">
      <!-- Events Section -->
      <section aria-labelledby="events-title">
        <h2 id="events-title">Upcoming Events</h2>
        <ul>
          <li>
            <strong>Business Networking Breakfast</strong><br>
            <span>June 15, 2025 &mdash; 8:00 AM</span><br>
            <span>Kabale Resort Hotel</span>
          </li>
          <li>
            <strong>Annual General Meeting</strong><br>
            <span>July 10, 2025 &mdash; 10:00 AM</span><br>
            <span>Chamber Conference Hall</span>
          </li>
          <li>
            <strong>Entrepreneurship Workshop</strong><br>
            <span>August 5, 2025 &mdash; 2:00 PM</span><br>
            <span>Online (Zoom)</span>
          </li>
        </ul>
      </section>

      <!-- Weather Section -->
      <section aria-labelledby="weather-title">
        <h2 id="weather-title">Kabale Weather</h2>
        <div id="weather">
          <div class="weather-today">
            <img id="weather-icon" src="" alt="" style="display:none;">
            <div>
              <span id="weather-temp">--°C</span>
              <span id="weather-desc"></span>
            </div>
          </div>
          <div class="forecast" id="forecast"></div>
        </div>
      </section>
    </div>

    <!-- Spotlights Section -->
    <section aria-labelledby="spotlights-title">
      <h2 id="spotlights-title">Member Spotlights</h2>
      <div class="spotlights" id="spotlights"></div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 Kabale Chamber of Commerce. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Responsive nav menu toggle
    function toggleNavMenu() {
      const nav = document.getElementById('mainNav');
      nav.classList.toggle('open');
    }
    // Wayfinding: highlight current nav link
    document.querySelectorAll('nav a').forEach(link => {
      if (link.href && window.location.href.includes(link.getAttribute('href'))) {
        link.classList.add('active');
        link.setAttribute('aria-current', 'page');
      }
    });

    // Chamber members data (reuse from directory)
    const membersData = [
      {
        name: "Green Hills Coffee",
        category: "Coffee Shop",
        address: "12 Main Street, Kabale",
        phone: "+256 712 345 678",
        website: "https://greenhillscoffe.ug",
        image: "",
        membership: 1,
        info: ""
      },
      {
        name: "Rwenzori Tech Solutions",
        category: "IT Services",
        address: "8 Tech Park, Kabale",
        phone: "+256 702 112 233",
        website: "https://rwenzoritec.ug",
        image: "",
        membership: 1,
        info: ""
      },
      {
        name: "TechNova Ltd",
        category: "Software Company",
        address: "Plot 45, Kampala Road, Uganda",
        phone: "+256 701 123456",
        website: "https://www.technova.ug",
        image: "technova.jpg",
        membership: 3,
        info: "Leading software company specializing in fintech solutions."
      },
      {
        name: "Green Harvest",
        category: "Agriculture",
        address: "Mbale, Eastern Uganda",
        phone: "+256 712 334455",
        website: "https://greenharvest.ug",
        image: "greenharvest.jpg",
        membership: 2,
        info: "Organic farming and agricultural consultancy."
      },
      {
        name: "Safari Wheels",
        category: "Tourism",
        address: "Entebbe Highway, Uganda",
        phone: "+256 755 987654",
        website: "https://safariwheels.ug",
        image: "safariwheels.jpg",
        membership: 1,
        info: "Tour company offering guided safaris."
      },
      {
        name: "EduSmart",
        category: "Education",
        address: "Kira Road, Kampala",
        phone: "+256 770 554433",
        website: "https://edusmart.ug",
        image: "edusmart.jpg",
        membership: 3,
        info: "E-learning solutions for schools and universities."
      },
      {
        name: "ByteFix",
        category: "IT Services",
        address: "Industrial Area, Kampala",
        phone: "+256 786 112233",
        website: "https://bytefix.ug",
        image: "bytefix.jpg",
        membership: 1,
        info: "Computer repair and IT maintenance services."
      },
      {
        name: "Urban Foods",
        category: "Restaurant",
        address: "Gulu City, Uganda",
        phone: "+256 758 667788",
        website: "https://urbanfoods.ug",
        image: "urbanfoods.jpg",
        membership: 2,
        info: "Fast food restaurant with local cuisine focus."
      },
      {
        name: "SolarBright",
        category: "Renewable Energy",
        address: "Jinja Road, Uganda",
        phone: "+256 701 998877",
        website: "https://solarbright.ug",
        image: "solarbright.jpg",
        membership: 3,
        info: "Renewable energy company specializing in solar panels."
      }
    ];

    // Spotlights: 
    function renderSpotlights() {
      const spotlightsDiv = document.getElementById('spotlights');
      spotlightsDiv.innerHTML = '';
      // Filter gold (3) and silver (2) members
      const eligible = membersData.filter(m => m.membership === 2 || m.membership === 3);
      // Shuffle and pick 2 or 3
      const count = Math.floor(Math.random() * 2) + 2; // 2 or 3
      const shuffled = eligible.sort(() => 0.5 - Math.random()).slice(0, count);
      shuffled.forEach(member => {
        const card = document.createElement('div');
        card.className = 'spotlight-card';
        card.innerHTML = `
          <span class="spotlight-level ${member.membership === 2 ? 'silver' : ''}">
            ${member.membership === 3 ? 'Gold Member' : 'Silver Member'}
          </span>
          ${member.image ? `<img src="images/${member.image}" alt="${member.name} Logo">` : ''}
          <h3>${member.name}</h3>
          <p><strong>Category:</strong> ${member.category || 'N/A'}</p>
          <p><strong>Address:</strong> ${member.address}</p>
          <p><strong>Phone:</strong> ${member.phone}</p>
          <p><strong>Website:</strong> <a href="${member.website}" target="_blank" rel="noopener">${member.website.replace(/^https?:\/\//, '')}</a></p>
          ${member.info ? `<p>${member.info}</p>` : ''}
        `;
        spotlightsDiv.appendChild(card);
      });
    }

    // Weather Section: OpenWeatherMap API
    // Replace with your own API key!
    const apiKey = 'YOUR_OPENWEATHERMAP_API_KEY';
    const kabaleLat = -1.2486;
    const kabaleLon = 29.9897;

    function fetchWeather() {
      // Current weather
      fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${kabaleLat}&lon=${kabaleLon}&appid=${apiKey}&units=metric`)
        .then(res => res.json())
        .then(data => {
          document.getElementById('weather-temp').textContent = Math.round(data.main.temp) + '°C';
          document.getElementById('weather-desc').textContent = data.weather[0].description;
          const icon = data.weather[0].icon;
          const iconImg = document.getElementById('weather-icon');
          iconImg.src = `https://openweathermap.org/img/wn/${icon}@2x.png`;
          iconImg.alt = data.weather[0].description;
          iconImg.style.display = 'inline-block';
        });
      // 3-day forecast
      fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${kabaleLat}&lon=${kabaleLon}&appid=${apiKey}&units=metric`)
        .then(res => res.json())
        .then(data => {
          // Group by day
          const forecastDiv = document.getElementById('forecast');
          forecastDiv.innerHTML = '';
          const days = {};
          data.list.forEach(item => {
            const date = new Date(item.dt_txt);
            const day = date.toLocaleDateString(undefined, { weekday: 'short', month: 'short', day: 'numeric' });
            if (!days[day]) days[day] = [];
            days[day].push(item);
          });
          // Get next 3 days (skip today)
          const today = new Date().toLocaleDateString(undefined, { weekday: 'short', month: 'short', day: 'numeric' });
          const dayNames = Object.keys(days).filter(d => d !== today).slice(0, 3);
          dayNames.forEach(day => {
            // Average temp for the day
            const temps = days[day].map(i => i.main.temp);
            const avgTemp = Math.round(temps.reduce((a, b) => a + b, 0) / temps.length);
            // Use icon from midday if available
            let icon = days[day][Math.floor(days[day].length/2)].weather[0].icon;
            let desc = days[day][Math.floor(days[day].length/2)].weather[0].description;
            forecastDiv.innerHTML += `
              <div class="forecast-day">
                <div>${day}</div>
                <img src="https://openweathermap.org/img/wn/${icon}.png" alt="${desc}" title="${desc}">
                <div>${avgTemp}°C</div>
              </div>
            `;
          });
        });
    }

    // Initial render
    renderSpotlights();
    fetchWeather();
  </script>
</body>
</html>
